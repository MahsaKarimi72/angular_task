<form nz-form (ngSubmit)="submit()" [formGroup]="form" style="padding: 16px;">
  <nz-form-item>

    <nz-form-control nzErrorTip="Title is required">
      <nz-form-label [nzRequired]="true" nzFor="title">Title</nz-form-label>
      <input nz-input id="title" formControlName="title" placeholder="Event title" />
    </nz-form-control>
  </nz-form-item>

  <nz-form-item>

    <nz-form-control>
      <nz-form-label [nzRequired]="true" nzFor="description">Description </nz-form-label>
      <textarea nz-input id="description" rows="3" formControlName="description"
        placeholder="Event description"></textarea>
    </nz-form-control>
  </nz-form-item>

  <nz-row [nzGutter]="16">
    <nz-col [nzXs]="24" [nzSm]="12">
      <nz-form-item>
        <nz-form-control nzErrorTip="Required">
          <nz-form-label [nzRequired]="true" nzFor="start">Start Date & Time</nz-form-label>
          <nz-date-picker nzShowTime id="start" formControlName="startDateTime" style="width: 100%">
          </nz-date-picker>
        </nz-form-control>
      </nz-form-item>
    </nz-col>

    <nz-col [nzXs]="24" [nzSm]="12">
      <nz-form-item>

        <nz-form-control nzErrorTip="Required">
          <nz-form-label [nzRequired]="true" nzFor="end">End Date & Time</nz-form-label>
          <nz-date-picker nzShowTime id="end" formControlName="endDateTime" style="width: 100%">
          </nz-date-picker>
        </nz-form-control>
      </nz-form-item>
    </nz-col>
  </nz-row>

  <nz-row [nzGutter]="16">
    <nz-col [nzXs]="24" [nzSm]="12">
      <nz-form-item>
        <nz-form-control nzErrorTip="Required">
          <nz-form-label [nzRequired]="true" nzFor="tz">Timezone</nz-form-label>
          <nz-select id="tz" formControlName="timezone">
            <nz-option *ngFor="let tz of timezones" [nzLabel]="tz" [nzValue]="tz"></nz-option>
          </nz-select>
        </nz-form-control>
      </nz-form-item>
    </nz-col>
    <nz-col [nzXs]="24" [nzSm]="12">
      <nz-form-item>
        <nz-form-control>
          <nz-form-label nzFor="venue">Location (venue)</nz-form-label>
          <input nz-input id="venue" placeholder="Venue name" formControlName="venueName" />
        </nz-form-control>
      </nz-form-item>
    </nz-col>
  </nz-row>
  
  <div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;">
    <nz-form-item>
      <nz-form-label nzFor="primary">Primary Image</nz-form-label>
      <nz-form-control>
        <nz-upload nzListType="picture-card" [nzBeforeUpload]="onPrimaryChange.bind(this)" [nzShowUploadList]="false">
          <ng-container *ngIf="!form.value.primaryImageDataUrl; else primaryThumb">
            <span>Upload</span>
          </ng-container>
          <ng-template #primaryThumb>
            <img [src]="form.value.primaryImageDataUrl" alt="primary" style="width:100%" />
          </ng-template>
        </nz-upload>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label nzFor="cover">Cover Image</nz-form-label>
      <nz-form-control>
        <nz-upload nzListType="picture-card" [nzBeforeUpload]="onCoverChange.bind(this)" [nzShowUploadList]="false">
          <ng-container *ngIf="!form.value.coverImageDataUrl; else coverThumb">
            <span>Upload</span>
          </ng-container>
          <ng-template #coverThumb>
            <img [src]="form.value.coverImageDataUrl" alt="cover" style="width:100%" />
          </ng-template>
        </nz-upload>
      </nz-form-control>
    </nz-form-item>
  </div>

  <nz-form-item>
    <nz-form-label nzFor="pub">Public</nz-form-label>
    <nz-form-control>
      <nz-switch formControlName="isPublic"></nz-switch>
    </nz-form-control>
  </nz-form-item>

  <div style="display:flex;gap:8px;justify-content:flex-end">
    <button nz-button nzType="default" routerLink="/events">Cancel</button>
    <button nz-button nzType="primary">Save</button>
  </div>
</form>